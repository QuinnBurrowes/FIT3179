<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Health Risks and Outcomes — Australia</title>

  <!-- Vega -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

  <!-- Inter font for consistent typography -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --max-width: 1100px;
      --card-bg: #ffffff;
      --muted: #6b7280;
      --accent: #2b6cb0;
      --gap: 24px;
    }

    html,body { height:100%; }
    body {
      margin: 24px;
      font-family: "Inter", "Segoe UI", Roboto, Arial, sans-serif;
      background: #f5f7fb;
      color: #111827;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    header {
      max-width: var(--max-width);
      margin: 0 auto 18px auto;
      text-align: center;
    }
    h1 {
      font-size: 28px;
      margin: 8px 0 4px;
      font-weight: 700;
      color: #0f172a;
    }
    p.lead {
      margin: 0 auto;
      max-width: 900px;
      color: var(--muted);
      font-size: 15px;
    }

    main {
      max-width: var(--max-width);
      margin: 28px auto;
      display: grid;
      grid-template-columns: 1fr;
      gap: 28px;
    }

    /* Section layout */
    section.section {
      background: transparent;
      padding: 0;
    }
    section .section-header {
      display:flex;
      align-items: baseline;
      gap: 12px;
      margin-bottom: 12px;
      justify-content: space-between;
    }
    section h2 {
      margin: 0;
      font-size: 20px;
      font-weight: 600;
      color: #0f172a;
    }
    section p.intro {
      color: var(--muted);
      margin: 8px 0 18px 0;
      max-width: 920px;
    }

    /* Grid to hold charts / placeholders (2 columns on wide screens) */
    .grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: var(--gap);
      align-items: start;
    }

    @media (min-width: 960px) {
      .grid { grid-template-columns: 1fr 1fr; }
    }

    /* Card wrapper for charts and placeholders */
    .vis-card {
      background: var(--card-bg);
      border-radius: 10px;
      box-shadow: 0 6px 18px rgba(13, 27, 52, 0.06);
      padding: 18px;
      min-height: 360px;               /* ensures consistent alignment */
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    /* Ensure the Vega embed itself is centered inside card */
    .vis-card .vega-embed, .vis-card > div {
      width: 100%;
      max-width: 720px;
      margin: 0 auto;
    }

    .placeholder-note {
      margin-top: 12px;
      color: var(--muted);
      font-size: 13px;
    }

    /* Small caption for each card */
    .caption {
      margin-top: 12px;
      color: var(--muted);
      font-size: 13px;
      text-align: center;
    }

    footer {
      max-width: var(--max-width);
      margin: 36px auto 12px auto;
      color: var(--muted);
      font-size: 13px;
      text-align: center;
    }
  </style>
</head>
<body>

  <header>
    <h1>Physical, Mental, and Combined Health Patterns in Australia</h1>
    <p class="lead">
      Visual exploration of physical and mental health indicators across age groups and states.
      Data sources: Australian Bureau of Statistics (National Health Survey 2022) and AIHW. 
    </p>
  </header>

  <main>

    <!-- PHYSICAL SECTION -->
    <section class="section" id="physical-section">
      <div class="section-header">
        <h2>Physical</h2>
        <div style="color:var(--muted); font-size:13px">Charts: activity, obesity, etc.</div>
      </div>
      <p class="intro">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum vitae mi sit amet nisi efficitur vulputate. Praesent vehicula arcu vitae sem suscipit, nec vulputate lectus faucibus.</p>

      <div class="grid">
        <!-- Adult Overweight Map (real chart) -->
        <div class="vis-card" id="card-adult">
          <div id="adult-vis"></div>
          <div class="caption">Adult overweight/obesity prevalence by state (2022). Hover a state for details.</div>
        </div>

        <!-- Placeholder chart for alignment (real chart exists at left) -->
        <div class="vis-card" id="card-placeholder-1">
          <div id="placeholder-1"></div>
          <div class="placeholder-note">Placeholder chart — other physical indicator</div>
        </div>

        <!-- Child Overweight (real chart) -->
        <div class="vis-card" id="card-child">
          <div id="child-vis"></div>
          <div class="caption">Child overweight prevalence by age & gender (interactive).</div>
        </div>

        <!-- Placeholder chart -->
        <div class="vis-card" id="card-placeholder-2">
          <div id="placeholder-2"></div>
          <div class="placeholder-note">Placeholder chart — physical trends</div>
        </div>
      </div>
    </section>

    <!-- MENTAL SECTION -->
    <section class="section" id="mental-section">
      <div class="section-header">
        <h2>Mental</h2>
        <div style="color:var(--muted); font-size:13px">Charts: distress, suicide trends, services</div>
      </div>
      <p class="intro">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vulputate ex quis lectus hendrerit, at dapibus nibh fringilla.</p>

      <div class="grid">
        <!-- Placeholder: Psychological Distress (we'll render a small stacked bar placeholder or text) -->
        <div class="vis-card" id="card-psych">
          <div id="psych-placeholder"></div>
          <div class="caption">Psychological distress by age and sex (placeholder).</div>
        </div>

        <!-- Deaths time-series (real chart: includes suicide, dementia, etc.) -->
        <div class="vis-card" id="card-death">
          <div id="death-vis"></div>
          <div class="caption">Time trends for major causes of death (2014–2023).</div>
        </div>

        <!-- Placeholder: mental services map/chart -->
        <div class="vis-card" id="card-placeholder-3">
          <div id="placeholder-3"></div>
          <div class="placeholder-note">Placeholder: mental health services availability</div>
        </div>

        <!-- Placeholder: suicide breakdown -->
        <div class="vis-card" id="card-placeholder-4">
          <div id="placeholder-4"></div>
          <div class="placeholder-note">Placeholder: suicide by age/sex</div>
        </div>
      </div>
    </section>

    <!-- COMBINED SECTION -->
    <section class="section" id="combined-section">
      <div class="section-header">
        <h2>Combined (Physical × Mental)</h2>
        <div style="color:var(--muted); font-size:13px">Comparative analyses and correlation views</div>
      </div>
      <p class="intro">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse potenti. Sed vitae fermentum enim.</p>

      <div class="grid">
        <!-- Scatter: Activity vs Distress (real chart) -->
        <div class="vis-card" id="card-scatter">
          <div id="scatter-vis"></div>
          <div class="caption">Proportion meeting activity guidelines vs. proportion with high psychological distress (by age group).</div>
        </div>

        <!-- Placeholder: radar / combined indicator -->
        <div class="vis-card" id="card-placeholder-5">
          <div id="placeholder-5"></div>
          <div class="placeholder-note">Placeholder: combined indicator (radar)</div>
        </div>

        <!-- Placeholder: heatmap or correlation -->
        <div class="vis-card" id="card-placeholder-6">
          <div id="placeholder-6"></div>
          <div class="placeholder-note">Placeholder: heatmap (activity × distress)</div>
        </div>

        <!-- Placeholder: narrative / annotation card -->
        <div class="vis-card" id="card-narrative">
          <div style="max-width:600px; text-align:left; color:var(--muted); font-size:14px; line-height:1.5;">
            <strong>Notes</strong>
            <p style="margin:8px 0 0;">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.
              Use this space for interpretation and key takeaways: highlight the most important trends, limitations, and data sources.
            </p>
          </div>
        </div>
      </div>
    </section>

  </main>

  <footer>
    <div>Created by Quinn Burrowes | FIT3179 Data Visualisation 2 | Monash University, Semester 2, 2025</div>
    <div style="margin-top:6px">Data sources: Australian Bureau of Statistics (National Health Survey 2022); AIHW. Repo: <em>your GitHub repo</em></div>
  </footer>

  <!-- ==== JavaScript: Vega specs and embeds ==== -->
  <script>
  /*****************************************************************
   * Utility: placeholder Vega-Lite spec that renders a visible card
   * Use this to create consistent placeholder charts that "take up space"
   *****************************************************************/
  function placeholderSpec(message, width=680, height=340){
    return {
      "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
      "width": width,
      "height": height,
      "data": {"values":[{"text":message}]},
      "mark": {"type":"text", "dy":-6, "fontSize":20, "color":"#9ca3af"},
      "encoding": {
        "text":{"field":"text","type":"nominal"}
      },
      "config": {"view":{"stroke":"transparent"}, "background": null}
    };
  }

  /* --------------------------
     Real charts (4): adult map, child bar, death lines, scatter
     All specs purposely have no title text inside spec (titles are in HTML).
     -------------------------- */

  // Adult Overweight Map spec (choropleth)
  var adultSpec = {
    "$schema":"https://vega.github.io/schema/vega-lite/v5.json",
    "width": 680,
    "height": 420,
    "projection": {"type":"mercator", "center":[134,-28], "scale":600},
    "layer": [
      {"data":{"graticule":{"step":[30,30]}}, "mark":{"type":"geoshape","stroke":"#ddd","strokeWidth":0.4}},
      {
        "data": {
          "url": "https://raw.githubusercontent.com/tonywr71/GeoJson-Data/master/australian-states.json",
          "format": {"type":"json", "property":"features"}
        },
        "transform":[
          {
            "lookup":"properties.STATE_NAME",
            "from":{
              "data": {"url":"https://raw.githubusercontent.com/QuinnBurrowes/FIT3179/main/health_risks_real.csv"},
              "key":"STATE_NAME",
              "fields":["value"]
            }
          }
        ],
        "mark":{"type":"geoshape","stroke":"white","strokeWidth":1},
        "encoding":{
          "color":{"field":"value","type":"quantitative","title":"% overweight adults","scale":{"scheme":"reds"}},
          "tooltip":[
            {"field":"properties.STATE_NAME","title":"State"},
            {"field":"value","title":"% overweight adults"}
          ]
        }
      }
    ],
    "config": {"view":{"stroke":"transparent"}}
  };

  // Child overweight bar chart (interactive param + national average)
  var childSpec = {
    "$schema":"https://vega.github.io/schema/vega-lite/v5.json",
    "data": {"url":"https://raw.githubusercontent.com/QuinnBurrowes/FIT3179/main/child_overweight.csv"},
    "transform": [
      {"filter":"datum.Category == 'Overweight or obese'"},
      {"filter":"genderSelect == 'All' ? true : datum.Gender == genderSelect"}
    ],
    "params":[
      {
        "name":"genderSelect",
        "value":"All",
        "bind":{
          "input":"select",
          "options":["All","Boys","Girls"],
          "name":"Select gender: "
        }
      }
    ],
    "width": 680,
    "height": 360,
    "layer":[
      {
        "mark":"bar",
        "encoding":{
          "x":{"field":"AgeGroup","type":"ordinal","title":"Age group","sort":["2-4","5-7","8-11","12-15","16-17"]},
          "y":{"field":"Percent","type":"quantitative","title":"Prevalence (%)","scale":{"domain":[0,40]}},
          "color":{"field":"Gender","type":"nominal","title":"Gender"},
          "tooltip":[{"field":"AgeGroup"},{"field":"Gender"},{"field":"Percent","type":"quantitative","format":".1f"}]
        }
      },
      {
        "mark":{"type":"rule","color":"#e11d48","strokeDash":[4,2]},
        "encoding":{"y":{"datum":26.4}}
      },
      {
        "mark":{"type":"text","color":"#e11d48","dx":6,"dy":-6,"align":"left"},
        "encoding":{"y":{"datum":26.4},"x":{"value":6},"text":{"value":"All children (2–17) = 26.4%"}}
      }
    ],
    "config":{"view":{"stroke":"transparent"}}
  };

  // Death causes time-series (multi-line)
  var deathSpec = {
    "$schema":"https://vega.github.io/schema/vega-lite/v5.json",
    "width": 680,
    "height": 380,
    "data": {"url":"https://raw.githubusercontent.com/QuinnBurrowes/FIT3179/main/death_causes_old.csv"},
    "mark":{"type":"line","point":true,"strokeWidth":3},
    "encoding":{
      "x":{"field":"Year","type":"temporal","axis":{"title":"Year"}},
      "y":{"field":"Deaths","type":"quantitative","axis":{"title":"Number of deaths"}},
      "color":{"field":"Cause","type":"nominal"},
      "tooltip":[{"field":"Year"},{"field":"Cause"},{"field":"Deaths"}]
    },
    "config":{"view":{"stroke":"transparent"}}
  };

  // Activity vs Distress scatter (one point per age group)
  var scatterSpec = {
    "$schema":"https://vega.github.io/schema/vega-lite/v5.json",
    "width": 680,
    "height": 380,
    "data":{"url":"https://raw.githubusercontent.com/QuinnBurrowes/FIT3179/main/activity_vs_distress.csv"},
    "mark":{"type":"point","filled":true,"size":140},
    "encoding":{
      "x":{"field":"Activity_Met","type":"quantitative","title":"% meeting activity guidelines"},
      "y":{"field":"Distress_High","type":"quantitative","title":"% high/very high distress"},
      "color":{"field":"Age_Group","type":"nominal"},
      "tooltip":[
        {"field":"Age_Group"},{"field":"Activity_Met","title":"% Active"},{"field":"Distress_High","title":"% High Distress"}
      ]
    },
    "config":{"view":{"stroke":"transparent"}}
  };


  /* ==== embed everything ==== */

  // placeholders (simple text placeholders so they take the same space)
  vegaEmbed('#placeholder-1', placeholderSpec('Placeholder — physical indicator', 640, 340), {actions:false});
  vegaEmbed('#placeholder-2', placeholderSpec('Placeholder — physical trends', 640, 340), {actions:false});
  vegaEmbed('#placeholder-3', placeholderSpec('Placeholder — mental health services', 640, 340), {actions:false});
  vegaEmbed('#placeholder-4', placeholderSpec('Placeholder — suicide breakdown', 640, 340), {actions:false});
  vegaEmbed('#placeholder-5', placeholderSpec('Placeholder — combined radar', 640, 340), {actions:false});
  vegaEmbed('#placeholder-6', placeholderSpec('Placeholder — heatmap', 640, 340), {actions:false});
  vegaEmbed('#psych-placeholder', placeholderSpec('Placeholder — psychological distress (stacked)', 640, 340), {actions:false});

  // real charts
  vegaEmbed('#adult-vis', adultSpec, {actions:false}).catch(console.error);
  vegaEmbed('#child-vis', childSpec, {actions:false}).catch(console.error);
  vegaEmbed('#death-vis', deathSpec, {actions:false}).catch(console.error);
  vegaEmbed('#scatter-vis', scatterSpec, {actions:false}).catch(console.error);

  </script>

</body>
</html>
